{% set moduleName = 'u4m-filtered-content' %}

{% set table = hubdb_table_rows(module.select_table) %}

<section class='u4m-filtered-content {% if topic or blog_author %} topic-page {% endif %}'>

	<div class='blog-banner'>
		<div class="bg_overlay {% if module.background_settings.background_type =='color' %}bg_color {{ module.background_settings.select_color }} {% endif %} {% if module.background_settings.background_type =='gradient' %} bg_gradient {{ module.background_settings.select_gradient }}{% endif %}"  {% if module.background_settings.background_type =='color' %}style="opacity: {{module.background_settings.opacity}}"{% endif %}>
		</div>
		<div class='page-center'>
			<div class='page-title'>
				<h1>
					{{ module.title }}
				</h1>
			</div>
			<div class='featured-post-wrap'>
				{% for row in table %}
				{% if loop.first %}
				<div class='featured-post'>

					<div class='featured-img-col'>
						<a href="{{ row.link }}">
							<img src="{{ row.image.url }}" alt="{{ row.name }}">
						</a>
					</div> 

					<div class='featured-content-col'>

						<div class='featured-topic'>
							<div class="topic_list">
								{% set topics = row.topics %}
								{% for topic in topics %}
								{% if topic.name == 'ebook' %}
								<span class="book"><svg width="15" height="18" viewBox="0 0 15 18" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M3.15 18C2.28 18 1.5375 17.6925 0.9225 17.0775C0.3075 16.4625 0 15.72 0 14.85V3.15C0 2.28 0.3075 1.5375 0.9225 0.9225C1.5375 0.3075 2.28 0 3.15 0H14.4V13.5C14.025 13.5 13.7062 13.6313 13.4437 13.8938C13.1812 14.1563 13.05 14.475 13.05 14.85C13.05 15.225 13.1812 15.5438 13.4437 15.8063C13.7062 16.0688 14.025 16.2 14.4 16.2V18H3.15ZM1.8 11.9925C2.01 11.8875 2.2275 11.8125 2.4525 11.7675C2.6775 11.7225 2.91 11.7 3.15 11.7H3.6V1.8H3.15C2.775 1.8 2.45625 1.93125 2.19375 2.19375C1.93125 2.45625 1.8 2.775 1.8 3.15V11.9925ZM5.4 11.7H12.6V1.8H5.4V11.7ZM3.15 16.2H11.5425C11.4525 15.99 11.3812 15.7763 11.3287 15.5588C11.2762 15.3413 11.25 15.105 11.25 14.85C11.25 14.61 11.2725 14.3775 11.3175 14.1525C11.3625 13.9275 11.4375 13.71 11.5425 13.5H3.15C2.76 13.5 2.4375 13.6313 2.1825 13.8938C1.9275 14.1563 1.8 14.475 1.8 14.85C1.8 15.24 1.9275 15.5625 2.1825 15.8175C2.4375 16.0725 2.76 16.2 3.15 16.2Z" fill="#9C27B0"/>
									</svg>
								</span>
								{% endif %}
								{% if topic.name == 'whitepaper' %}
								<span class="file"><svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M3.5 14.4H10.5V12.6H3.5V14.4ZM3.5 10.8H10.5V9H3.5V10.8ZM1.75 18C1.26875 18 0.856771 17.8238 0.514062 17.4713C0.171354 17.1188 0 16.695 0 16.2V1.8C0 1.305 0.171354 0.88125 0.514062 0.52875C0.856771 0.17625 1.26875 0 1.75 0H8.75L14 5.4V16.2C14 16.695 13.8286 17.1188 13.4859 17.4713C13.1432 17.8238 12.7312 18 12.25 18H1.75ZM7.875 6.3V1.8H1.75V16.2H12.25V6.3H7.875Z" fill="#9C27B0"/>
									</svg>
								</span>
								{% endif %}
								{% if topic.name == 'video' %}
								<span class="play"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
									<path d="M6.75 13.05L13.05 9L6.75 4.95V13.05ZM9 18C7.755 18 6.585 17.7638 5.49 17.2913C4.395 16.8188 3.4425 16.1775 2.6325 15.3675C1.8225 14.5575 1.18125 13.605 0.70875 12.51C0.23625 11.415 0 10.245 0 9C0 7.755 0.23625 6.585 0.70875 5.49C1.18125 4.395 1.8225 3.4425 2.6325 2.6325C3.4425 1.8225 4.395 1.18125 5.49 0.70875C6.585 0.23625 7.755 0 9 0C10.245 0 11.415 0.23625 12.51 0.70875C13.605 1.18125 14.5575 1.8225 15.3675 2.6325C16.1775 3.4425 16.8188 4.395 17.2913 5.49C17.7638 6.585 18 7.755 18 9C18 10.245 17.7638 11.415 17.2913 12.51C16.8188 13.605 16.1775 14.5575 15.3675 15.3675C14.5575 16.1775 13.605 16.8188 12.51 17.2913C11.415 17.7638 10.245 18 9 18ZM9 16.2C11.01 16.2 12.7125 15.5025 14.1075 14.1075C15.5025 12.7125 16.2 11.01 16.2 9C16.2 6.99 15.5025 5.2875 14.1075 3.8925C12.7125 2.4975 11.01 1.8 9 1.8C6.99 1.8 5.2875 2.4975 3.8925 3.8925C2.4975 5.2875 1.8 6.99 1.8 9C1.8 11.01 2.4975 12.7125 3.8925 14.1075C5.2875 15.5025 6.99 16.2 9 16.2Z" fill="#9C27B0"/>
									</svg>
								</span>
								{% endif %}
								<span class="topic_text">{{ topic.label }}</span>
								{% endfor %}
							</div>
						</div>

						<h4>
							<a href="{{ row.link }}">{{ row.name }}</a>
						</h4>
						<p> {{ row.content }}
						</p>

						<div class='read-more'>
							<a class="more-link" href="{{ row.link }}">Download now
								<svg xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
									<path d="M15 7.99995C15 7.84065 14.9229 7.64141 14.7686 7.52196L8.21335 0.709209C7.9434 0.430264 7.51928 0.430264 7.24933 0.709209C6.97947 1.0279 6.97947 1.46615 7.24933 1.74499L12.6093 7.28286H0.694071C0.308519 7.28286 0 7.60156 0 7.99995C0 8.39844 0.308519 8.71714 0.694071 8.71714H12.6093L7.24933 14.2949C6.97947 14.5737 6.97947 15.0119 7.24933 15.2908C7.51928 15.5697 7.9434 15.5697 8.21335 15.2908L14.7686 8.51789C14.9229 8.39844 15 8.1992 15 7.99995Z" fill="#00819E"/>
								</svg>
							</a>
						</div>

					</div>
				</div>
				{% endif %}
				{% endfor %}
			</div>
		</div>
	</div>

	<div class='site-search-wrap'>
		<div class='page-center'>


			<div class='search-col'>
				<div class="SearchBtn">
					<span class="search_icon">
						<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path fill-rule="evenodd" clip-rule="evenodd" d="M0 6.29922C0 2.82065 2.82065 0 6.29923 0C9.7778 0 12.5985 2.82065 12.5985 6.29922C12.5985 7.78304 12.0805 9.15487 11.2196 10.2327L13.7953 12.8084C14.0682 13.0814 14.0682 13.5223 13.7953 13.7953C13.5223 14.0683 13.0814 14.0683 12.8084 13.7953L10.2327 11.2196C9.15487 12.0805 7.79004 12.5984 6.29923 12.5984C2.82065 12.5984 0 9.7778 0 6.29922ZM6.29923 1.39983C3.59056 1.39983 1.39983 3.59056 1.39983 6.29922C1.39983 9.00789 3.59056 11.1986 6.29923 11.1986C7.65006 11.1986 8.87487 10.6527 9.76377 9.76381C10.6527 8.87492 11.1986 7.65006 11.1986 6.29922C11.1986 3.59056 9.00789 1.39983 6.29923 1.39983Z" fill="#00161D"/>
						</svg>
					</span>
					<input type="text" id="filterTitle{{ name|replace('widget_','')|replace('module_','') }}" placeholder="{{ module.search_input.placeholder }}" class="resourceInput gray_border gray_light_bg dark_text_color">
				</div> 
			</div>


			<div class="tag-col">
				{% set uniqueTopics = [] %}
				{% for item in table %}
				{% for item2 in item.topics %}
				{% do uniqueTopics.append(item2) %}
				{% endfor %}
				{% endfor %} 
				<select id="tinynav1" class="tinynav tinynav1 resourceSelect" style="background-image: url({{ get_asset_url('../../templates/images/Arrow-Down.png') }});">
					<option value="{{ group.absolute_url }}">Select type...</option>


					{% for tag in uniqueTopics|unique %}
					<option value="{{ tag.name }}">{{ tag.label }}</option>
					{% endfor %}
				</select>  
			</div>
		</div>
	</div>


	<div class='listing-wrap'>
		<div class='page-center'>
			<div class='flex-row resourceList' id="itemList{{ name|replace('widget_','')|replace('module_','') }}">
				{% for row in table %}
				<div class='listItem resourceCard post-item {% for tag in row.topics %}{{ tag.name|lower|replace(' ','')|regex_replace("[^a-zA-Z0-9 ]", "") }}{% endfor %}'>
					<div class="item_inner_wrapper">
						<div class="topic_list">
							{% set topics = row.topics %}
							{% for topic in topics %}
							{% if topic.name == 'ebook' %}
							<span class="book"><svg width="15" height="18" viewBox="0 0 15 18" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M3.15 18C2.28 18 1.5375 17.6925 0.9225 17.0775C0.3075 16.4625 0 15.72 0 14.85V3.15C0 2.28 0.3075 1.5375 0.9225 0.9225C1.5375 0.3075 2.28 0 3.15 0H14.4V13.5C14.025 13.5 13.7062 13.6313 13.4437 13.8938C13.1812 14.1563 13.05 14.475 13.05 14.85C13.05 15.225 13.1812 15.5438 13.4437 15.8063C13.7062 16.0688 14.025 16.2 14.4 16.2V18H3.15ZM1.8 11.9925C2.01 11.8875 2.2275 11.8125 2.4525 11.7675C2.6775 11.7225 2.91 11.7 3.15 11.7H3.6V1.8H3.15C2.775 1.8 2.45625 1.93125 2.19375 2.19375C1.93125 2.45625 1.8 2.775 1.8 3.15V11.9925ZM5.4 11.7H12.6V1.8H5.4V11.7ZM3.15 16.2H11.5425C11.4525 15.99 11.3812 15.7763 11.3287 15.5588C11.2762 15.3413 11.25 15.105 11.25 14.85C11.25 14.61 11.2725 14.3775 11.3175 14.1525C11.3625 13.9275 11.4375 13.71 11.5425 13.5H3.15C2.76 13.5 2.4375 13.6313 2.1825 13.8938C1.9275 14.1563 1.8 14.475 1.8 14.85C1.8 15.24 1.9275 15.5625 2.1825 15.8175C2.4375 16.0725 2.76 16.2 3.15 16.2Z" fill="#9C27B0"/>
								</svg>
							</span>
							{% endif %}
							{% if topic.name == 'whitepaper' %}
							<span class="file"><svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M3.5 14.4H10.5V12.6H3.5V14.4ZM3.5 10.8H10.5V9H3.5V10.8ZM1.75 18C1.26875 18 0.856771 17.8238 0.514062 17.4713C0.171354 17.1188 0 16.695 0 16.2V1.8C0 1.305 0.171354 0.88125 0.514062 0.52875C0.856771 0.17625 1.26875 0 1.75 0H8.75L14 5.4V16.2C14 16.695 13.8286 17.1188 13.4859 17.4713C13.1432 17.8238 12.7312 18 12.25 18H1.75ZM7.875 6.3V1.8H1.75V16.2H12.25V6.3H7.875Z" fill="#9C27B0"/>
								</svg>
							</span>
							{% endif %}
							{% if topic.name == 'video' %}
							<span class="play"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M6.75 13.05L13.05 9L6.75 4.95V13.05ZM9 18C7.755 18 6.585 17.7638 5.49 17.2913C4.395 16.8188 3.4425 16.1775 2.6325 15.3675C1.8225 14.5575 1.18125 13.605 0.70875 12.51C0.23625 11.415 0 10.245 0 9C0 7.755 0.23625 6.585 0.70875 5.49C1.18125 4.395 1.8225 3.4425 2.6325 2.6325C3.4425 1.8225 4.395 1.18125 5.49 0.70875C6.585 0.23625 7.755 0 9 0C10.245 0 11.415 0.23625 12.51 0.70875C13.605 1.18125 14.5575 1.8225 15.3675 2.6325C16.1775 3.4425 16.8188 4.395 17.2913 5.49C17.7638 6.585 18 7.755 18 9C18 10.245 17.7638 11.415 17.2913 12.51C16.8188 13.605 16.1775 14.5575 15.3675 15.3675C14.5575 16.1775 13.605 16.8188 12.51 17.2913C11.415 17.7638 10.245 18 9 18ZM9 16.2C11.01 16.2 12.7125 15.5025 14.1075 14.1075C15.5025 12.7125 16.2 11.01 16.2 9C16.2 6.99 15.5025 5.2875 14.1075 3.8925C12.7125 2.4975 11.01 1.8 9 1.8C6.99 1.8 5.2875 2.4975 3.8925 3.8925C2.4975 5.2875 1.8 6.99 1.8 9C1.8 11.01 2.4975 12.7125 3.8925 14.1075C5.2875 15.5025 6.99 16.2 9 16.2Z" fill="#9C27B0"/>
								</svg>
							</span>
							{% endif %}
								<span class="topic_text">{{ topic.label }}</span>
							{% endfor %}
						</div>
						<div class="title">
							<h4>
								<a href="{{ row.link }}" class="restitle">{{ row.name }}</a>
							</h4>
						</div>
						<div class="download_btn">
							<a href="{{ row.link }}">Download now <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M15 7.99995C15 7.84065 14.9229 7.64141 14.7686 7.52196L8.21335 0.709209C7.9434 0.430264 7.51928 0.430264 7.24933 0.709209C6.97947 1.0279 6.97947 1.46615 7.24933 1.74499L12.6093 7.28286H0.694071C0.308519 7.28286 0 7.60156 0 7.99995C0 8.39844 0.308519 8.71714 0.694071 8.71714H12.6093L7.24933 14.2949C6.97947 14.5737 6.97947 15.0119 7.24933 15.2908C7.51928 15.5697 7.9434 15.5697 8.21335 15.2908L14.7686 8.51789C14.9229 8.39844 15 8.1992 15 7.99995Z" fill="#00819E"/>
								</svg></a>
						</div>
					</div>
				</div>
				{% endfor %}
			</div>
			<ul id="pagination{{ name|replace('widget_','')|replace('module_','') }}" class="pagination"></ul> 
		</div>
	</div>

</section>



